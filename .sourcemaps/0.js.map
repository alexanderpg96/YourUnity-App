{"version":3,"sources":["../../src/pages/your-cards/your-cards.module.ts","../../src/pages/your-cards/your-cards.ts"],"names":[],"mappings":"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","file":"0.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { IonicPageModule } from 'ionic-angular';\n\nimport { YourCardsPage } from './your-cards';\n\n@NgModule({\n  declarations: [\n    YourCardsPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(YourCardsPage),\n    TranslateModule.forChild()\n  ],\n  exports: [\n    YourCardsPage\n  ]\n})\nexport class YourCardsPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/your-cards/your-cards.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController } from 'ionic-angular';\nimport { Http } from '@angular/http';\nimport {HttpModule, Headers, RequestOptions, Response} from '@angular/http'\nimport 'rxjs/add/operator/map';\nimport { Observable } from 'rxjs/Observable';\nimport { Storage } from '@ionic/storage';\nimport { Platform } from 'ionic-angular';\nimport { Geolocation } from '@ionic-native/geolocation';\nimport { NativeGeocoder, NativeGeocoderReverseResult, NativeGeocoderForwardResult } from '@ionic-native/native-geocoder';\n\nimport firebase from 'firebase';\n\n@IonicPage()\n@Component({\n  selector: 'page-your-cards',\n  templateUrl: 'your-cards.html'\n})\nexport class YourCardsPage {\n  cardItems: any[];\n  opened: Boolean = false;\n  isInEnabled: Boolean = false;\n  isOutEnabled: Boolean = false;\n  user = firebase.auth().currentUser;\n  checkin: any;\n  ios: Boolean;\n  latitude : any;\n  longitude : any;\n  location: Geolocation;\n  userLat: any;\n  userLong: any;\n  distance: number;\n\n\n  constructor(public navCtrl: NavController, public http: Http, public storage: Storage, public platform: Platform, private nativeGeocoder: NativeGeocoder, private geolocation: Geolocation) {\n    this.http.get('https://yourunity-dev.dev/api/user_events/' + this.user.uid).map(res => res.json()).subscribe(data => {\n      this.cardItems = data;\n      console.log(this.cardItems);\n\n      this.geolocation.getCurrentPosition().then((resp) => {\n        this.userLat = resp.coords.latitude;\n        this.userLong = resp.coords.longitude;\n       }).catch((error) => {\n         console.log('Error getting location', error);\n       });\n      \n      for(var i = 0; i < this.cardItems.length; i++) {\n        var item = this.cardItems[i];\n\n        // if statement to check if time has started and check status (1 = event started, 2 = not started)\n        if(item.starts <= Math.round((new Date()).getTime() / 1000) && item.ends >= Math.round((new Date()).getTime() / 1000)) {\n          this.storage.get(item.id.toString()).then((val) => {\n            if(val) {\n              console.log(item.id + \" is checked in already\");\n              this.setIn(item, false);\n              this.setOut(item, true);\n            }\n            else {\n              console.log(item.id + \" is not checked in yet\");\n              this.setIn(item, true);\n              this.setOut(item, false);\n            }      \n          });      \n        }\n        else {\n          item.isInEnabled = false;\n          item.isOutEnabled = false;\n        }\n\n        if(item.ends <= Math.round((new Date()).getTime() / 1000)) {\n          // Don't show event\n        }\n\n        this.nativeGeocoder.forwardGeocode(item.location).then((coordinates: NativeGeocoderForwardResult) => {\n          item.latitude = coordinates.latitude;\n          item.longitude = coordinates.longitude;\n        }).catch((error: any) => console.log(error));\n\n        item.distance = this.calculateDistance(this.userLat, item.latitude, this.userLong, item.longitude);\n        \n        console.log(item.distance);\n        console.log(item.isInEnabled);\n        console.log(item.isOutEnabled);\n      }\n\n      console.log(this.cardItems);\n      console.log(this.user.uid);\n    });\n\n    if (this.platform.is('ios')) {\n      this.ios = true;\n    }\n    else {\n      this.ios = false;\n    }\n  }\n\n  calculateDistance(lat1:number,lat2:number,long1:number,long2:number){\n    let p = 0.017453292519943295;    // Math.PI / 180\n    let c = Math.cos;\n    let a = 0.5 - c((lat1-lat2) * p) / 2 + c(lat2 * p) *c((lat1) * p) * (1 - c(((long1- long2) * p))) / 2;\n    let dis = (12742 * Math.asin(Math.sqrt(a))); // 2 * R; R = 6371 km\n    dis = Math.round( ((dis)) * 10 ) / 10;\n    return dis;\n  }\n\n  doRefresh(refresher) {\n    this.http.get('https://yourunity-dev.dev/api/user_events/' + this.user.uid).map(res => res.json()).subscribe(data => {\n      this.cardItems = data;\n      \n      for(var i = 0; i < this.cardItems.length; i++) {\n        var item = this.cardItems[i];\n        console.log(\"hello\");\n        // if statement to check if time has started and check status (1 = event started, 2 = not started)\n        if(item.starts <= Math.round((new Date()).getTime() / 1000) && item.ends >= Math.round((new Date()).getTime() / 1000)) {\n          this.storage.get(item.id.toString()).then((val) => {\n            if(val) {\n              this.setIn(item, false);\n              this.setOut(item, true);\n            }\n            else {\n              this.setIn(item, true);\n              this.setOut(item, false);\n            }      \n          });      \n        }\n        else {\n          item.isInEnabled = false;\n          item.isOutEnabled = false;\n        }\n\n        this.nativeGeocoder.forwardGeocode(item.location).then((coordinates: NativeGeocoderForwardResult) => {\n          item.latitude = coordinates.latitude;\n          item.longitude = coordinates.longitude;\n        }).catch((error: any) => console.log(error));\n\n        item.distance = this.calculateDistance(this.userLat, item.latitude, this.userLong, item.longitude);\n      }\n      console.log(this.cardItems);\n      console.log(this.user.uid);\n    });\n\n    setTimeout(() => {\n      console.log('Async operation has ended');\n      refresher.complete();\n    }, 700);\n  }\n\n  toggle(item) {\n    item.opened = !item.opened;\n  }\n\n  setIn(item, isIt) {\n    console.log(\"in\");\n    console.log(isIt);\n    item.isInEnabled = isIt;\n  }\n\n  setOut(item, isIt) {\n    item.isOutEnabled = isIt;\n  }\n\n  isCardOpened(item) {\n    return item.opened;\n  }\n\n  isCheckin(item) {\n    return item.isInEnabled;\n  }\n\n  isCheckout(item) {\n    return item.isOutEnabled;\n  }\n\n  checkIn(item) {\n    var user_id = this.user.uid;\n    var url = 'https://yourunity-dev.dev/api/checkin/' + user_id + '/' + item.id;\n    var checkinTime = Math.round((new Date()).getTime() / 1000)\n    var data = {\n      \"check_in_time\" : Math.round((new Date()).getTime() / 1000),\n      \"duration\" : 0,\n      \"activity_status\" : 1\n    };\n    let headers = new Headers ({ 'Content-Type': 'application/json' });\n    let options = new RequestOptions({ headers: headers }); \n\n    // Check in user on server\n    this.http.patch(url, JSON.stringify(data), options)\n    .map(res => res.json())\n    .subscribe(data =>\n      console.log(data)\n    );\n\n    console.log(\"uploaded\");\n\n    item.isInEnabled = false;\n    item.isOutEnabled = true;\n\n    this.storage.set(item.id.toString(), checkinTime);\n    this.storage.get(item.id.toString()).then((val) => {console.log(val)});\n  }\n\n  checkOut(item) {\n    this.storage.get(item.id.toString()).then((checkin) => {\n      var user_id = this.user.uid;\n      var url = 'https://yourunity-dev.dev/api/checkin/' + user_id + '/' + item.id;\n      var data = {\n        \"check_in_time\" : checkin,\n        \"duration\" : ((Math.round((new Date()).getTime() / 1000)) - (checkin)),\n        \"activity_status\" : 0\n      };\n      let headers = new Headers ({ 'Content-Type': 'application/json' });\n      let options = new RequestOptions({ headers: headers }); \n        \n      // Check in user on server\n      this.http.patch(url, JSON.stringify(data), options)\n      .map(res => res.json())\n      .subscribe(data =>\n        console.log(data)\n      );\n\n      console.log(\"uploaded\");\n      //console.log(((Math.round((new Date()).getTime() / 1000)) - (parseInt(item.check_in_time, 10))));\n      console.log(data);\n\n      item.isInEnabled = false;\n      item.isOutEnabled = false;\n    });\n    \n    this.storage.remove(item.id.toString());\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/your-cards/your-cards.ts"],"sourceRoot":""}