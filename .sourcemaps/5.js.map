{"version":3,"sources":["../../src/pages/settings/settings.module.ts","../../src/pages/settings/settings.ts"],"names":[],"mappings":"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","file":"5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { IonicPageModule } from 'ionic-angular';\n\nimport { SettingsPage } from './settings';\n\n@NgModule({\n  declarations: [\n    SettingsPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(SettingsPage),\n    TranslateModule.forChild()\n  ],\n  exports: [\n    SettingsPage\n  ]\n})\nexport class SettingsPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/settings/settings.module.ts","import { Component } from '@angular/core';\nimport { FormBuilder, FormGroup } from '@angular/forms';\nimport { TranslateService } from '@ngx-translate/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { Http } from '@angular/http';\nimport {HttpModule, Headers, RequestOptions, Response} from '@angular/http'\nimport 'rxjs/add/operator/map';\n\nimport { Settings } from '../../providers/providers';\n\nimport firebase from 'firebase';\n\n/**\n * The Settings page is a simple form that syncs with a Settings provider\n * to enable the user to customize settings for the app.\n *\n */\n\nlet _this;\n\n@IonicPage()\n@Component({\n  selector: 'page-settings',\n  templateUrl: 'settings.html'\n})\nexport class SettingsPage {\n  \n  user = firebase.auth().currentUser;\n\n  account: { email: string, name_first: string, name_last: string } =  {\n   email: this.user.email,\n   name_first:  \"First name\",\n   name_last: \"Last name\"\n  };\n\n  baseUrl: string = 'https://yourunity.org';\n\n  constructor(public navCtrl: NavController, public settings: Settings, public navParams: NavParams, public http: Http) {\n    \n  }\n\n  ionViewDidLoad() {\n    \n  }\n\n  ionViewWillEnter() {\n    \n  }\n\n  updateUser() {\n    _this = this;\n\n    this.user.updateEmail(this.account.email).then(function() {\n      // Update successful.\n      console.log(\"Email updated\");\n    }).catch(function(error) {\n      // An error happened.\n      console.log(\"Email not updated\");\n      console.log(error);\n    });\n\n    this.user.updateProfile({\n      displayName: this.account.name_first + \" \" + this.account.name_last,\n      photoURL: \"\"\n    }).then(function() {\n      // Update successful.\n      console.log(\"Info changed\");\n    }).catch(function(error) {\n      console.log(\"Info not changed\");\n      console.log(error);\n    });\n\n    var user_id = this.user.uid;\n      var url = this.baseUrl + '/api/add_attendee/' + user_id;\n      var data = {\n        \"name_first\" : this.account.name_first,\n        \"name_last\" : this.account.name_last,\n        \"avatar\" : \"default.jpg\",\n        \"email\" : this.account.email\n      };\n\n      let headers = new Headers ({ 'Content-Type': 'application/json' });\n      let options = new RequestOptions({ headers: headers }); \n\n      // Check in user on server\n      this.http.patch(url, JSON.stringify(data), options)\n      .map(res => res.json())\n      .subscribe(data =>\n        console.log(data)\n      );\n\n      console.log(\"uploaded\");\n      _this.navCtrl.pop();\n  }\n\n  logout() {\n    firebase.auth().signOut();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/settings/settings.ts"],"sourceRoot":""}