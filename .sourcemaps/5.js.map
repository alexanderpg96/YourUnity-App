{"version":3,"sources":["../../src/pages/settings/settings.module.ts","../../src/pages/settings/settings.ts"],"names":[],"mappings":"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","file":"5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { IonicPageModule } from 'ionic-angular';\n\nimport { SettingsPage } from './settings';\n\n@NgModule({\n  declarations: [\n    SettingsPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(SettingsPage),\n    TranslateModule.forChild()\n  ],\n  exports: [\n    SettingsPage\n  ]\n})\nexport class SettingsPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/settings/settings.module.ts","import { Component } from '@angular/core';\nimport { FormBuilder, FormGroup } from '@angular/forms';\nimport { TranslateService } from '@ngx-translate/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { Http } from '@angular/http';\nimport {Headers, RequestOptions} from '@angular/http'\nimport 'rxjs/add/operator/map';\n\nimport { Settings } from '../../providers/providers';\n\nimport firebase from 'firebase';\n\n/**\n * The Settings page is a simple form that syncs with a Settings provider\n * to enable the user to customize settings for the app.\n *\n */\n\nlet _this;\n\n@IonicPage()\n@Component({\n  selector: 'page-settings',\n  templateUrl: 'settings.html'\n})\nexport class SettingsPage {\n  \n  user = firebase.auth().currentUser;\n\n  account: { email: string } =  {\n   email: \"\"\n  };\n\n  baseUrl: string = 'https://yourunity.org';\n\n  constructor(public navCtrl: NavController, public settings: Settings, public navParams: NavParams, public http: Http) {\n    \n  }\n\n  ionViewDidLoad() {\n    \n  }\n\n  ionViewWillEnter() {\n    \n  }\n\n  updateUser() {\n    _this = this;\n\n    if(this.account.email == \"\") {\n      // do nothing\n      alert(\"Please fill in email\");\n    }\n    else {\n      this.user.updateEmail(this.account.email).then(function() {\n        // Update successful.\n        console.log(\"Email updated\");\n      }).then(this.pushUpdate())\n      .catch(function(error) {\n        // An error happened.\n        console.log(\"Email not updated\");\n        console.log(error);\n      });\n    }\n  }\n\n  pushUpdate() {\n    var user_id = this.user.uid;\n      var url = this.baseUrl + '/api/update_attendee';\n      var data = \n        \"firedb_id=\" + user_id +\n        \"&email=\" + this.account.email;\n\n        let headers = new Headers ({ 'Content-Type': 'application/x-www-form-urlencoded' });\n        let options = new RequestOptions({ headers: headers }); \n\n      // Check in user on server\n      this.http.post(url, data, options)\n      .map(res => res.json())\n      .subscribe(data =>\n        console.log(data)\n      );\n\n      console.log(\"uploaded\");\n      _this.navCtrl.pop();\n\n      var hello: any = \"hello\";\n      return hello;\n  }\n\n  logout() {\n    firebase.auth().signOut();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/settings/settings.ts"],"sourceRoot":""}